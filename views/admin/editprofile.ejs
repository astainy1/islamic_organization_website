<%- include("../partials/adminheader.ejs") %>

<!-- Sidebar Start -->
<%- include("./menu/sidebar.ejs") %>
<!-- Sidebar End -->

<!-- Content Start -->
<div class="content">
  <!-- Navbar Start -->
  <%- include("./menu/navbar.ejs") %>

  <!-- Admin Profile Section Start -->
  <div class="container-fluid pt-4 px-4">
    <div class="bg-light rounded p-4">
      <h4 class="mb-4 text-center">Admin Profile</h4>
      <form
        class="needs-validation"
        novalidate
        action="/admin/edit-profile"
        method="POST"
        enctype="multipart/form-data"
      >
        <div class="row g-3">
          <!-- Full Name -->
          <div class="col-md-6">
            <label for="fullName" class="form-label">Full Name</label>
            <input
              type="text"
              name="name"
              id="fullName"
              class="form-control"
              placeholder="Enter full name"
              required
            />
            <div class="invalid-feedback">Full name is required.</div>
          </div>

          <!-- Username -->
          <div class="col-md-6">
            <label for="username" class="form-label">Username</label>
            <input
              type="text"
              name="username"
              id="username"
              class="form-control"
              placeholder="Enter username"
              required
            />
            <div class="invalid-feedback">Username is required.</div>
          </div>

          <!-- Email Address -->
          <div class="col-md-6">
            <label for="email" class="form-label">Email Address</label>
            <input
              type="email"
              name="email"
              id="email"
              class="form-control"
              placeholder="Enter email"
              required
            />
            <div class="invalid-feedback">Please enter a valid email.</div>
          </div>

          <!-- Phone Number -->
          <div class="col-md-6">
            <label for="phone" class="form-label">Phone Number</label>
            <input
              type="text"
              name="phone"
              id="phone"
              class="form-control"
              placeholder="E.g: 0777 777 777"
              pattern="\d{10,}"
              required
            />
            <div class="invalid-feedback">
              Phone number is required (at least 10 digits).
            </div>
          </div>

          <!-- Password -->
          <div class="col-md-6">
            <label for="password" class="form-label">New Password</label>
            <input
              type="password"
              name="password"
              id="password"
              class="form-control"
              minlength="6"
              placeholder="Enter new password"
            />
            <div class="invalid-feedback">
              Password must be at least 6 characters.
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="col-md-6">
            <label for="confirmPassword" class="form-label"
              >Confirm Password</label
            >
            <input
              type="password"
              name="confirmPassword"
              id="confirmPassword"
              class="form-control"
              minlength="6"
              placeholder="Confirm new password"
            />
            <div class="invalid-feedback">Please confirm your password.</div>
          </div>

          <!-- Profile Picture -->
          <div class="col-12">
            <label for="profileImage" class="form-label">Profile Picture</label>
            <input
              type="file"
              accept="image/*"
              name="profileImage"
              id="profileImage"
              class="form-control"
            />
          </div>

          <!-- Submit Button -->
          <div class="col-12 text-center mt-3">
            <button type="submit" class="btn btn-success px-5">
              Update Profile
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <!-- Admin Profile Section End -->

  <!-- Bootstrap Validation Script -->
  <script>
    // Bootstrap 5 frontend validation
    (function () {
      "use strict";
      const forms = document.querySelectorAll(".needs-validation");

      Array.from(forms).forEach(function (form) {
        form.addEventListener(
          "submit",
          function (event) {
            if (!form.checkValidity()) {
              event.preventDefault();
              event.stopPropagation();
            }

            form.classList.add("was-validated");
          },
          false
        );
      });
    })();
  </script>

  <!-- Footer Start -->
  <%- include("../partials/adminfooter.ejs") %>
</div>
